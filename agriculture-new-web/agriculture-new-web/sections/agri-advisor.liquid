{% comment %}
  Agriculture Advisor Section
  File: sections/agri-advisor.liquid
  Used by: templates/page.agri-advisor.json
{% endcomment %}

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700;800&family=Mukta:wght@400;600;700&display=swap" rel="stylesheet">

<div class="agri-advisor-page">

  <!-- HERO -->
  <section class="aap-hero">
    <div class="aap-hero__bg-pattern" aria-hidden="true"></div>
    <div class="aap-hero__content">
      <div class="aap-hero__badge">üåæ {{ section.settings.badge_text }}</div>
      <h1 class="aap-hero__title">
        {{ section.settings.hero_line1 }}<br>
        <span class="aap-hero__title--accent">{{ section.settings.hero_line2 }}</span><br>
        {{ section.settings.hero_line3 }}
      </h1>
      <p class="aap-hero__sub">{{ section.settings.hero_subtext }}</p>
      <div class="aap-hero__stats">
        <div class="aap-hero__stat">
          <span class="aap-hero__stat-num">{{ section.settings.stat1_num }}</span>
          <span class="aap-hero__stat-label">{{ section.settings.stat1_label }}</span>
        </div>
        <div class="aap-hero__stat-div" aria-hidden="true"></div>
        <div class="aap-hero__stat">
          <span class="aap-hero__stat-num">{{ section.settings.stat2_num }}</span>
          <span class="aap-hero__stat-label">{{ section.settings.stat2_label }}</span>
        </div>
        <div class="aap-hero__stat-div" aria-hidden="true"></div>
        <div class="aap-hero__stat">
          <span class="aap-hero__stat-num">{{ section.settings.stat3_num }}</span>
          <span class="aap-hero__stat-label">{{ section.settings.stat3_label }}</span>
        </div>
      </div>
      <a href="#aap-form" class="aap-hero__cta">{{ section.settings.hero_cta }} üå±</a>
    </div>
    <!-- ANIMATED SCENE: Farmer consulting Advisor -->
    <div class="aap-hero__scene" aria-hidden="true">

      <!-- HTML bubbles ‚Äî translatable by Google Translate -->
      <div class="aap-bubble-farmer">
        <span>My crops are <strong>turning yellow!</strong> üòü</span>
      </div>
      <div class="aap-bubble-advisor">
        <span>Nitrogen deficiency!<br><b>Apply urea 25kg/acre</b><br>‚úÖ Problem Solved!</span>
      </div>

      <svg class="aap-scene-svg" viewBox="0 0 320 280" xmlns="http://www.w3.org/2000/svg">

        <!-- Background ground -->
        <ellipse cx="160" cy="260" rx="140" ry="18" fill="rgba(0,0,0,0.15)"/>

        <!-- === CROPS (background) === -->
        <g class="aap-crops">
          <line x1="20" y1="240" x2="20" y2="190" stroke="#c8a84b" stroke-width="2.5"/>
          <ellipse cx="20" cy="186" rx="5" ry="10" fill="#c8a84b" transform="rotate(-10,20,186)"/>
          <line x1="32" y1="240" x2="32" y2="195" stroke="#c8a84b" stroke-width="2.5"/>
          <ellipse cx="32" cy="191" rx="5" ry="10" fill="#c8a84b" transform="rotate(8,32,191)"/>
          <line x1="44" y1="240" x2="44" y2="188" stroke="#c8a84b" stroke-width="2.5"/>
          <ellipse cx="44" cy="184" rx="5" ry="10" fill="#c8a84b" transform="rotate(-5,44,184)"/>
          <line x1="270" y1="240" x2="270" y2="190" stroke="#c8a84b" stroke-width="2.5"/>
          <ellipse cx="270" cy="186" rx="5" ry="10" fill="#c8a84b" transform="rotate(10,270,186)"/>
          <line x1="282" y1="240" x2="282" y2="195" stroke="#c8a84b" stroke-width="2.5"/>
          <ellipse cx="282" cy="191" rx="5" ry="10" fill="#c8a84b" transform="rotate(-8,282,191)"/>
          <line x1="294" y1="240" x2="294" y2="188" stroke="#c8a84b" stroke-width="2.5"/>
          <ellipse cx="294" cy="184" rx="5" ry="10" fill="#c8a84b" transform="rotate(5,294,184)"/>
        </g>

        <!-- === FARMER (left) === -->
        <g class="aap-farmer">
          <ellipse cx="100" cy="248" rx="22" ry="6" fill="rgba(0,0,0,0.18)"/>
          <rect x="82" y="185" width="36" height="52" rx="10" fill="#e67e22"/>
          <rect x="84" y="224" width="14" height="22" rx="5" fill="#f5e6d3"/>
          <rect x="102" y="224" width="14" height="22" rx="5" fill="#f5e6d3"/>
          <ellipse cx="91" cy="246" rx="8" ry="4" fill="#8B4513"/>
          <ellipse cx="109" cy="246" rx="8" ry="4" fill="#8B4513"/>
          <rect x="96" y="178" width="8" height="10" rx="4" fill="#cd853f"/>
          <circle cx="100" cy="168" r="18" fill="#cd853f"/>
          <circle cx="94" cy="166" r="2.5" fill="#3d2b1f"/>
          <circle cx="106" cy="166" r="2.5" fill="#3d2b1f"/>
          <circle cx="95" cy="165" r="1" fill="#fff"/>
          <circle cx="107" cy="165" r="1" fill="#fff"/>
          <path d="M94 173 Q100 178 106 173" stroke="#3d2b1f" stroke-width="1.5" fill="none" stroke-linecap="round"/>
          <path d="M82 162 Q100 148 118 162 Q110 155 100 153 Q90 155 82 162Z" fill="#e53935"/>
          <circle cx="100" cy="153" r="4" fill="#ffb300"/>
          <line x1="82" y1="195" x2="62" y2="178" stroke="#e67e22" stroke-width="8" stroke-linecap="round"/>
          <circle cx="60" cy="176" r="7" fill="#cd853f"/>
          <line x1="118" y1="195" x2="130" y2="210" stroke="#e67e22" stroke-width="8" stroke-linecap="round"/>
          <circle cx="132" cy="212" r="7" fill="#cd853f"/>
        </g>

        <!-- === ADVISOR (right) === -->
        <g class="aap-advisor-char">
          <ellipse cx="218" cy="248" rx="22" ry="6" fill="rgba(0,0,0,0.18)"/>
          <rect x="200" y="185" width="36" height="52" rx="10" fill="#2d5a27"/>
          <rect x="214" y="185" width="8" height="16" rx="2" fill="#fff" opacity="0.5"/>
          <rect x="202" y="224" width="14" height="22" rx="5" fill="#3d2b1f"/>
          <rect x="220" y="224" width="14" height="22" rx="5" fill="#3d2b1f"/>
          <ellipse cx="209" cy="246" rx="8" ry="4" fill="#1a1a1a"/>
          <ellipse cx="227" cy="246" rx="8" ry="4" fill="#1a1a1a"/>
          <rect x="214" y="178" width="8" height="10" rx="4" fill="#c68642"/>
          <circle cx="218" cy="168" r="18" fill="#c68642"/>
          <path d="M200 162 Q218 150 236 162 Q230 152 218 150 Q206 152 200 162Z" fill="#1a1a1a"/>
          <circle cx="212" cy="166" r="2.5" fill="#3d2b1f"/>
          <circle cx="224" cy="166" r="2.5" fill="#3d2b1f"/>
          <circle cx="213" cy="165" r="1" fill="#fff"/>
          <circle cx="225" cy="165" r="1" fill="#fff"/>
          <path d="M210 173 Q218 180 226 173" stroke="#3d2b1f" stroke-width="1.5" fill="none" stroke-linecap="round"/>
          <circle cx="212" cy="166" r="5" fill="none" stroke="#c8a84b" stroke-width="1.5"/>
          <circle cx="224" cy="166" r="5" fill="none" stroke="#c8a84b" stroke-width="1.5"/>
          <line x1="217" y1="166" x2="219" y2="166" stroke="#c8a84b" stroke-width="1.5"/>
          <line x1="200" y1="195" x2="178" y2="178" stroke="#2d5a27" stroke-width="8" stroke-linecap="round"/>
          <circle cx="176" cy="176" r="7" fill="#c68642"/>
          <line x1="236" y1="195" x2="248" y2="210" stroke="#2d5a27" stroke-width="8" stroke-linecap="round"/>
          <rect x="242" y="206" width="20" height="26" rx="3" fill="#f5f0e8" stroke="#c8a84b" stroke-width="1.5"/>
          <line x1="247" y1="213" x2="257" y2="213" stroke="#c5dfc0" stroke-width="1.5"/>
          <line x1="247" y1="218" x2="257" y2="218" stroke="#c5dfc0" stroke-width="1.5"/>
          <line x1="247" y1="223" x2="254" y2="223" stroke="#c5dfc0" stroke-width="1.5"/>
          <rect x="248" y="204" width="8" height="5" rx="2" fill="#c8a84b"/>
        </g>

        <!-- Floating particles -->
        <circle class="aap-particle-1" cx="60" cy="80" r="4" fill="rgba(200,168,75,0.6)"/>
        <circle class="aap-particle-2" cx="260" cy="70" r="3" fill="rgba(255,255,255,0.5)"/>
        <circle class="aap-particle-3" cx="160" cy="60" r="5" fill="rgba(200,168,75,0.4)"/>
        <circle class="aap-particle-4" cx="290" cy="120" r="3" fill="rgba(255,255,255,0.4)"/>
        <text class="aap-leaf-1" x="30" y="100" font-size="16">üåø</text>
        <text class="aap-leaf-2" x="270" y="85" font-size="14">üåæ</text>
        <text class="aap-leaf-3" x="150" y="50" font-size="12">‚ú®</text>

      </svg>
    </div>
  </section>

  <!-- CATEGORIES -->
  <section class="aap-categories">
    <div class="aap-section-head">
      <span class="aap-section-head__leaf">üçÉ</span>
      <h2 class="aap-section-head__title">What Problem Do You Have?</h2>
      <span class="aap-section-head__leaf">üçÉ</span>
    </div>
    <p class="aap-categories__sub">Choose your category ‚Äî we'll connect you with the right expert</p>
    <div class="aap-categories__grid">
      <button class="aap-cat-card aap-cat-card--active" data-cat="mitti" onclick="aapSelectCat(this,'mitti')">
        <span class="aap-cat-card__icon">ü™®</span>
        <span class="aap-cat-card__name">Soil Testing</span>
        <span class="aap-cat-card__desc">Soil health, pH, nutrients</span>
      </button>
      <button class="aap-cat-card" data-cat="keede" onclick="aapSelectCat(this,'keede')">
        <span class="aap-cat-card__icon">üêõ</span>
        <span class="aap-cat-card__name">Pest Protection</span>
        <span class="aap-cat-card__desc">Pest control, insecticides</span>
      </button>
      <button class="aap-cat-card" data-cat="fasal" onclick="aapSelectCat(this,'fasal')">
        <span class="aap-cat-card__icon">üåæ</span>
        <span class="aap-cat-card__name">Crop Management</span>
        <span class="aap-cat-card__desc">Crop planning, varieties</span>
      </button>
      <button class="aap-cat-card" data-cat="fertilizer" onclick="aapSelectCat(this,'fertilizer')">
        <span class="aap-cat-card__icon">üß™</span>
        <span class="aap-cat-card__name">Fertilizer & Nutrition</span>
        <span class="aap-cat-card__desc">NPK, micronutrients</span>
      </button>
      <button class="aap-cat-card" data-cat="sinchai" onclick="aapSelectCat(this,'sinchai')">
        <span class="aap-cat-card__icon">üíß</span>
        <span class="aap-cat-card__name">Irrigation Management</span>
        <span class="aap-cat-card__desc">Drip, sprinkler, water use</span>
      </button>
      <button class="aap-cat-card" data-cat="bimari" onclick="aapSelectCat(this,'bimari')">
        <span class="aap-cat-card__icon">üçÇ</span>
        <span class="aap-cat-card__name">Disease Control</span>
        <span class="aap-cat-card__desc">Fungus, bacteria, virus</span>
      </button>
    </div>
  </section>

  <!-- ADVISOR CARDS -->
  <section class="aap-advisors">
    <div class="aap-section-head">
      <span class="aap-section-head__leaf">üåø</span>
      <h2 class="aap-section-head__title">Our Expert Advisors</h2>
      <span class="aap-section-head__leaf">üåø</span>
    </div>
    <div class="aap-advisors__grid">
      {% for block in section.blocks %}
        {% if block.type == 'advisor' %}
          <div class="aap-advisor-card" {{ block.shopify_attributes }}>
            <div class="aap-advisor-card__avatar">
              <div class="aap-advisor-card__avatar-circle" style="background: {{ block.settings.avatar_color }};">
                {{ block.settings.avatar_initials }}
              </div>
              <div class="aap-advisor-card__status aap-advisor-card__status--{{ block.settings.status }}" title="{{ block.settings.status }}"></div>
            </div>
            <div class="aap-advisor-card__info">
              <h3 class="aap-advisor-card__name">{{ block.settings.name }}</h3>
              <span class="aap-advisor-card__role">{{ block.settings.role }}</span>
              <div class="aap-advisor-card__exp">{{ block.settings.experience }}</div>
              <div class="aap-advisor-card__tags">
                {% assign tags = block.settings.tags | split: ',' %}
                {% for tag in tags %}
                  <span>{{ tag | strip }}</span>
                {% endfor %}
              </div>
              <div class="aap-advisor-card__rating">
                {{ block.settings.rating }} <small>({{ block.settings.reviews }} reviews)</small>
              </div>
            </div>
            <div class="aap-advisor-card__actions">
              <a href="https://wa.me/91{{ block.settings.whatsapp }}?text=Hello%20{{ block.settings.name | url_encode }}%2C%20I%20need%20your%20advice"
                 class="aap-btn aap-btn--whatsapp" target="_blank" rel="noopener">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347z"/><path d="M12 0C5.373 0 0 5.373 0 12c0 2.123.554 4.122 1.528 5.855L.057 23.886a.5.5 0 0 0 .612.612l6.083-1.588A11.946 11.946 0 0 0 12 24c6.627 0 12-5.373 12-12S18.627 0 12 0zm0 22c-1.907 0-3.693-.5-5.24-1.375l-.374-.217-3.884 1.015 1.037-3.79-.239-.388A9.96 9.96 0 0 1 2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10z"/></svg>
                WhatsApp
              </a>
              <a href="#aap-form" class="aap-btn aap-btn--form">Get Advice</a>
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </section>

  <!-- FORM -->
  <section class="aap-form-section" id="aap-form">
    <div class="aap-form-wrap">
      <div class="aap-form-left">
        <div class="aap-section-head aap-section-head--left">
          <h2 class="aap-section-head__title">Tell Us Your<br>Problem</h2>
        </div>
        <p class="aap-form-left__desc">Fill the form and our experts will contact you within 24 hours ‚Äî <strong>completely free</strong>.</p>
        <ul class="aap-form-left__perks">
          <li>‚úÖ First consultation free</li>
          <li>‚úÖ Reply in your language</li>
          <li>‚úÖ Available on WhatsApp too</li>
          <li>‚úÖ Certified agronomists</li>
        </ul>
        <div class="aap-form-left__whatsapp">
          <span>Or contact directly on WhatsApp:</span>
          <a href="https://wa.me/91{{ section.settings.main_whatsapp }}?text=Hello!%20I%20need%20farming%20advice."
             class="aap-btn aap-btn--whatsapp aap-btn--lg" target="_blank" rel="noopener">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347z"/><path d="M12 0C5.373 0 0 5.373 0 12c0 2.123.554 4.122 1.528 5.855L.057 23.886a.5.5 0 0 0 .612.612l6.083-1.588A11.946 11.946 0 0 0 12 24c6.627 0 12-5.373 12-12S18.627 0 12 0zm0 22c-1.907 0-3.693-.5-5.24-1.375l-.374-.217-3.884 1.015 1.037-3.79-.239-.388A9.96 9.96 0 0 1 2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10z"/></svg>
            +91 {{ section.settings.main_whatsapp }}
          </a>
        </div>
      </div>

      <div class="aap-form-right">
        {%- form 'contact', id: 'AgriAdvisorForm' -%}
          {%- if form.posted_successfully? -%}
            <div class="aap-form-success">
              <span class="aap-form-success__icon">üåæ</span>
              <h3>Thank You!</h3>
              <p>We have received your query. Our experts will contact you within <strong>24 hours</strong>.</p>
            </div>
          {%- else -%}
            {%- if form.errors -%}
              <div class="aap-form-error">‚ö†Ô∏è Something went wrong. Please fill all required fields.</div>
            {%- endif -%}
            <div class="aap-form-grid">

              <div class="aap-field">
                <label class="aap-field__label" for="ContactForm-name">üë§ Your Name <span class="aap-field__req">*</span></label>
                <input class="aap-field__input" type="text" id="ContactForm-name"
                  name="contact[name]" required
                  placeholder="E.g.: Ramesh Kumar"
                  value="{{ form.name }}">
              </div>

              <div class="aap-field">
                <label class="aap-field__label" for="ContactForm-phone">üì± Mobile Number <span class="aap-field__req">*</span></label>
                <input class="aap-field__input" type="tel" id="ContactForm-phone"
                  name="contact[Mobile Number]" required
                  placeholder="+91 98765 43210">
              </div>

              <div class="aap-field">
                <label class="aap-field__label" for="ContactForm-email">üìß Email <span class="aap-field__req">*</span></label>
                <input class="aap-field__input" type="email" id="ContactForm-email"
                  name="contact[email]" required
                  placeholder="your@email.com"
                  value="{{ form.email }}">
              </div>

              <div class="aap-field">
                <label class="aap-field__label" for="ContactForm-state">üìç State / District</label>
                <select class="aap-field__input aap-field__select" id="ContactForm-state"
                  name="contact[State / District]">
                  <option value="">-- Select --</option>
                  <option>Uttar Pradesh</option>
                  <option>Madhya Pradesh</option>
                  <option>Rajasthan</option>
                  <option>Punjab</option>
                  <option>Haryana</option>
                  <option>Gujarat</option>
                  <option>Maharashtra</option>
                  <option>Bihar</option>
                  <option>Jharkhand</option>
                  <option>Chhattisgarh</option>
                  <option>Other</option>
                </select>
              </div>

              <div class="aap-field aap-field--full">
                <label class="aap-field__label" for="ContactForm-category">üåø Problem Category <span class="aap-field__req">*</span></label>
                <select class="aap-field__input aap-field__select" id="ContactForm-category"
                  name="contact[Problem Category]" required>
                  <option value="">-- Select Category --</option>
                  <option>ü™® Soil Testing</option>
                  <option>üêõ Pest Protection</option>
                  <option>üåæ Crop Management</option>
                  <option>üß™ Fertilizer &amp; Nutrition</option>
                  <option>üíß Irrigation Management</option>
                  <option>üçÇ Disease Control</option>
                  <option>Other</option>
                </select>
              </div>

              <div class="aap-field aap-field--full">
                <label class="aap-field__label" for="ContactForm-fasal">üå± Crop Name</label>
                <input class="aap-field__input" type="text" id="ContactForm-fasal"
                  name="contact[Crop Name]"
                  placeholder="E.g.: Wheat, Rice, Tomato, Mango...">
              </div>

              <div class="aap-field aap-field--full">
                <label class="aap-field__label" for="ContactForm-message">üìù Describe Your Problem in Detail <span class="aap-field__req">*</span></label>
                <textarea class="aap-field__input aap-field__textarea" id="ContactForm-message"
                  name="contact[body]" required rows="5"
                  placeholder="E.g.: Leaves of my wheat plant are turning yellow...">{{ form.body }}</textarea>
              </div>

              <div class="aap-field aap-field--full">
                <label class="aap-field__label">üìû How Should We Contact You?</label>
                <div class="aap-contact-pref">
                  <label class="aap-pref-option">
                    <input type="radio" name="contact[Contact Preference]" value="WhatsApp" checked>
                    <span>üí¨ WhatsApp</span>
                  </label>
                  <label class="aap-pref-option">
                    <input type="radio" name="contact[Contact Preference]" value="Phone Call">
                    <span>üìû Phone Call</span>
                  </label>
                  <label class="aap-pref-option">
                    <input type="radio" name="contact[Contact Preference]" value="Email">
                    <span>üìß Email</span>
                  </label>
                </div>
              </div>

            </div>
            <button type="submit" class="aap-submit-btn"><span>üåæ Submit Query</span></button>
          {%- endif -%}
        {%- endform -%}
      </div>
    </div>
  </section>

  <!-- TRUST STRIP -->
  {% comment %} <section class="aap-trust">
    <div class="aap-trust__inner">
      {% comment %} <div class="aap-trust__item"><span>üå±</span><span>100% Free First Consultation</span></div> {% endcomment %}
      <div class="aap-trust__div" aria-hidden="true"></div>
      <div class="aap-trust__item"><span>üî¨</span><span>Certified Agronomists</span></div>
      <div class="aap-trust__div" aria-hidden="true"></div>
      <div class="aap-trust__item"><span>‚ö°</span><span>Reply Within 24 Hours</span></div>
      <div class="aap-trust__div" aria-hidden="true"></div>
      <div class="aap-trust__item"><span>üáÆüá≥</span><span>Serving Across India</span></div>
    </div>
  </section> {% endcomment %}

</div>

{% stylesheet %}
*, *::before, *::after { box-sizing: border-box; }

.agri-advisor-page {
  --c-soil:   #3d2b1f;
  --c-bark:   #6b4226;
  --c-leaf:   #3a7d44;
  --c-moss:   #2d5a27;
  --c-wheat:  #c8a84b;
  --c-cream:  #f5f0e8;
  --c-sky:    #eaf4ea;
  --c-border: #c5dfc0;
  --c-wa:     #25d366;
  font-family: 'Mukta', 'Noto Sans Devanagari', sans-serif;
  background: var(--c-cream);
  color: var(--c-soil);
}

.aap-section-head { display: flex; align-items: center; justify-content: center; gap: 12px; margin-bottom: 8px; }
.aap-section-head--left { justify-content: flex-start; }
.aap-section-head__leaf { font-size: 20px; }
.aap-section-head__title { font-family: 'Playfair Display', Georgia, serif; font-size: clamp(24px, 3.5vw, 36px); font-weight: 700; color: var(--c-soil); margin: 0; line-height: 1.2; }

/* HERO */
.aap-hero { background: linear-gradient(135deg, var(--c-moss) 0%, var(--c-leaf) 60%, #4caf50 100%); position: relative; overflow: hidden; padding: 60px 40px 70px; display: flex; align-items: center; justify-content: space-between; gap: 32px; }
.aap-hero__bg-pattern { position: absolute; inset: 0; background-image: radial-gradient(circle at 20% 50%, rgba(255,255,255,0.06) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(200,168,75,0.15) 0%, transparent 40%); pointer-events: none; }
.aap-hero__content { position: relative; z-index: 1; max-width: 600px; }
.aap-hero__badge { display: inline-block; background: rgba(255,255,255,0.18); border: 1px solid rgba(255,255,255,0.35); color: #fff; padding: 5px 16px; border-radius: 30px; font-size: 12px; font-weight: 700; letter-spacing: 1px; text-transform: uppercase; margin-bottom: 18px; }
.aap-hero__title { font-family: 'Playfair Display', Georgia, serif; font-size: clamp(28px, 5vw, 52px); font-weight: 800; color: #fff; line-height: 1.15; margin: 0 0 16px; }
.aap-hero__title--accent { color: var(--c-wheat); display: block; }
.aap-hero__sub { color: rgba(255,255,255,0.88); font-size: clamp(14px, 1.8vw, 17px); line-height: 1.65; margin-bottom: 28px; max-width: 480px; }
.aap-hero__stats { display: flex; align-items: center; gap: 20px; margin-bottom: 30px; flex-wrap: wrap; }
.aap-hero__stat { display: flex; flex-direction: column; }
.aap-hero__stat-num { font-size: 28px; font-weight: 800; color: var(--c-wheat); line-height: 1; }
.aap-hero__stat-label { font-size: 11px; color: rgba(255,255,255,0.75); letter-spacing: 0.5px; text-transform: uppercase; }
.aap-hero__stat-div { width: 1px; height: 40px; background: rgba(255,255,255,0.25); }
.aap-hero__cta { display: inline-block; background: var(--c-wheat); color: var(--c-soil); font-weight: 700; font-size: 16px; padding: 14px 32px; border-radius: 50px; text-decoration: none; box-shadow: 0 6px 24px rgba(0,0,0,0.2); transition: transform 0.2s, box-shadow 0.2s; }
.aap-hero__cta:hover { transform: translateY(-2px); box-shadow: 0 10px 32px rgba(0,0,0,0.25); }
/* HERO SCENE */
.aap-hero__scene {
  flex-shrink: 0;
  width: clamp(240px, 30vw, 340px);
  position: relative;
  z-index: 1;
}
.aap-scene-svg {
  width: 100%;
  height: auto;
  overflow: visible;
  display: block;
}

/* HTML Chat Bubbles ‚Äî positioned over SVG, translatable */
.aap-bubble-farmer,
.aap-bubble-advisor {
  position: absolute;
  font-family: 'Mukta', sans-serif;
  font-size: 11px;
  line-height: 1.4;
  border-radius: 10px;
  padding: 7px 10px;
  box-shadow: 0 3px 10px rgba(0,0,0,0.15);
  max-width: 130px;
  pointer-events: none;
  z-index: 2;
}

/* Farmer bubble ‚Äî top-left area over farmer character */
.aap-bubble-farmer {
  background: #fff;
  color: #3d2b1f;
  top: 28%;
  left: 2%;
  animation: aap-bubble-in 6s ease-in-out infinite;
}
.aap-bubble-farmer strong { color: #e53935; }

/* Tail pointing down-right toward farmer */
.aap-bubble-farmer::after {
  content: '';
  position: absolute;
  bottom: -8px;
  left: 22px;
  border: 8px solid transparent;
  border-top-color: #fff;
  border-bottom: 0;
}

/* Advisor bubble ‚Äî top-right area over advisor character */
.aap-bubble-advisor {
  background: #c8e6c9;
  color: #2d5a27;
  top: 25%;
  right: 0%;
  animation: aap-bubble-in 6s ease-in-out infinite 2.5s;
}
.aap-bubble-advisor b { color: #2d5a27; font-weight: 700; }

/* Tail pointing down-left toward advisor */
.aap-bubble-advisor::after {
  content: '';
  position: absolute;
  bottom: -8px;
  right: 22px;
  border: 8px solid transparent;
  border-top-color: #c8e6c9;
  border-bottom: 0;
}

/* Farmer bob animation */
.aap-farmer {
  transform-origin: 100px 240px;
  animation: aap-bob 3s ease-in-out infinite;
}
/* Advisor nod animation */
.aap-advisor-char {
  transform-origin: 218px 240px;
  animation: aap-nod 3s ease-in-out infinite 0.4s;
}
/* Crop sway */
.aap-crops {
  transform-origin: 160px 240px;
  animation: aap-sway 4s ease-in-out infinite;
}
/* Farmer bubble - appear then fade then reappear */
.aap-bubble-farmer {
  animation: aap-bubble-in 6s ease-in-out infinite;
}
/* Advisor bubble - delayed reply */
.aap-bubble-advisor {
  animation: aap-bubble-in 6s ease-in-out infinite 2.5s;
}
/* Floating particles */
.aap-particle-1 { animation: aap-float-p 3s ease-in-out infinite 0s; }
.aap-particle-2 { animation: aap-float-p 3s ease-in-out infinite 0.7s; }
.aap-particle-3 { animation: aap-float-p 3s ease-in-out infinite 1.4s; }
.aap-particle-4 { animation: aap-float-p 3s ease-in-out infinite 2.1s; }
.aap-leaf-1 { animation: aap-float-p 4s ease-in-out infinite 0.3s; }
.aap-leaf-2 { animation: aap-float-p 4s ease-in-out infinite 1.2s; }
.aap-leaf-3 { animation: aap-float-p 2.5s ease-in-out infinite 0.8s; }

@keyframes aap-bob {
  0%, 100% { transform: translateY(0px); }
  50%       { transform: translateY(-6px); }
}
@keyframes aap-nod {
  0%, 100% { transform: translateY(0px) rotate(0deg); }
  30%       { transform: translateY(-4px) rotate(2deg); }
  60%       { transform: translateY(-2px) rotate(-1deg); }
}
@keyframes aap-sway {
  0%, 100% { transform: rotate(0deg); }
  50%       { transform: rotate(2deg); }
}
@keyframes aap-bubble-in {
  0%        { opacity: 0; transform: scale(0.7) translateY(8px); }
  15%, 75%  { opacity: 1; transform: scale(1) translateY(0); }
  90%, 100% { opacity: 0; transform: scale(0.9) translateY(-4px); }
}
@keyframes aap-float-p {
  0%, 100% { transform: translateY(0); }
  50%       { transform: translateY(-8px); }
}

/* Hide old illustration classes if any */
.aap-hero__illustration { display: none; }

/* CATEGORIES */
.aap-categories { padding: 56px 24px 48px; max-width: 1100px; margin: 0 auto; }
.aap-categories__sub { text-align: center; color: var(--c-bark); margin: 0 0 32px; font-size: 15px; }
.aap-categories__grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
.aap-cat-card { background: #fff; border: 2px solid var(--c-border); border-radius: 14px; padding: 20px 16px; cursor: pointer; text-align: center; display: flex; flex-direction: column; align-items: center; gap: 6px; transition: all 0.2s ease; font-family: inherit; }
.aap-cat-card:hover, .aap-cat-card--active { border-color: var(--c-leaf); background: var(--c-sky); box-shadow: 0 4px 16px rgba(58,125,68,0.15); transform: translateY(-2px); }
.aap-cat-card__icon { font-size: 32px; }
.aap-cat-card__name { font-size: 14px; font-weight: 700; color: var(--c-soil); }
.aap-cat-card__desc { font-size: 11.5px; color: var(--c-bark); }

/* ADVISORS */
.aap-advisors { background: #fff; border-top: 4px solid var(--c-border); border-bottom: 4px solid var(--c-border); padding: 56px 24px; }
.aap-advisors__grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; max-width: 1100px; margin: 32px auto 0; }
.aap-advisor-card { border: 1.5px solid var(--c-border); border-radius: 16px; padding: 24px 20px 20px; background: var(--c-cream); display: flex; flex-direction: column; gap: 14px; transition: box-shadow 0.2s, transform 0.2s; }
.aap-advisor-card:hover { box-shadow: 0 8px 28px rgba(45,90,39,0.14); transform: translateY(-3px); }
.aap-advisor-card__avatar { position: relative; width: fit-content; }
.aap-advisor-card__avatar-circle { width: 62px; height: 62px; border-radius: 50%; background: linear-gradient(135deg, var(--c-moss), var(--c-leaf)); color: #fff; display: flex; align-items: center; justify-content: center; font-size: 22px; font-weight: 700; font-family: 'Playfair Display', serif; }
.aap-advisor-card__status { position: absolute; bottom: 2px; right: 2px; width: 14px; height: 14px; border-radius: 50%; border: 2px solid #fff; }
.aap-advisor-card__status--online { background: #22c55e; }
.aap-advisor-card__status--busy { background: #f59e0b; }
.aap-advisor-card__name { font-family: 'Playfair Display', serif; font-size: 18px; font-weight: 700; color: var(--c-soil); margin: 0; }
.aap-advisor-card__role { font-size: 12.5px; color: var(--c-leaf); font-weight: 600; }
.aap-advisor-card__exp { font-size: 12px; color: var(--c-bark); }
.aap-advisor-card__tags { display: flex; flex-wrap: wrap; gap: 6px; }
.aap-advisor-card__tags span { background: var(--c-sky); color: var(--c-moss); border: 1px solid var(--c-border); border-radius: 20px; padding: 2px 10px; font-size: 11px; font-weight: 600; }
.aap-advisor-card__rating { font-size: 13px; color: var(--c-soil); }
.aap-advisor-card__rating small { color: var(--c-bark); }
.aap-advisor-card__actions { display: flex; flex-direction: column; gap: 8px; margin-top: auto; }

/* BUTTONS */
.aap-btn { display: inline-flex; align-items: center; justify-content: center; gap: 7px; padding: 9px 16px; border-radius: 8px; font-size: 13.5px; font-weight: 700; text-decoration: none; border: none; cursor: pointer; font-family: inherit; transition: opacity 0.2s, transform 0.15s; }
.aap-btn:hover { opacity: 0.9; transform: translateY(-1px); }
.aap-btn--whatsapp { background: var(--c-wa); color: #fff; }
.aap-btn--form { background: var(--c-sky); color: var(--c-moss); border: 1.5px solid var(--c-border); }
.aap-btn--form:hover { background: var(--c-border); }
.aap-btn--lg { padding: 13px 24px; font-size: 15px; border-radius: 10px; }

/* FORM */
.aap-form-section { padding: 60px 24px; max-width: 1100px; margin: 0 auto; }
.aap-form-wrap { display: grid; grid-template-columns: 1fr 1.7fr; gap: 48px; align-items: start; }
.aap-form-left__desc { color: var(--c-bark); font-size: 15px; line-height: 1.7; margin: 16px 0 20px; }
.aap-form-left__perks { list-style: none; padding: 0; margin: 0 0 28px; display: flex; flex-direction: column; gap: 10px; }
.aap-form-left__perks li { font-size: 14.5px; color: var(--c-soil); font-weight: 600; }
.aap-form-left__whatsapp { display: flex; flex-direction: column; gap: 10px; }
.aap-form-left__whatsapp span { font-size: 13px; color: var(--c-bark); }
.aap-form-right { background: #fff; border: 1.5px solid var(--c-border); border-radius: 16px; padding: 32px 28px; box-shadow: 0 4px 24px rgba(45,90,39,0.08); }
.aap-form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 20px; }
.aap-field { display: flex; flex-direction: column; gap: 6px; }
.aap-field--full { grid-column: 1 / -1; }
.aap-field__label { font-size: 13px; font-weight: 700; color: var(--c-soil); }
.aap-field__req { color: #e53e3e; }
.aap-field__input { border: 1.5px solid var(--c-border); border-radius: 8px; padding: 10px 14px; font-size: 14px; font-family: inherit; color: var(--c-soil); background: var(--c-cream); transition: border-color 0.2s, box-shadow 0.2s; width: 100%; outline: none; }
.aap-field__input:focus { border-color: var(--c-leaf); box-shadow: 0 0 0 3px rgba(58,125,68,0.12); background: #fff; }
.aap-field__input::placeholder { color: #a0987a; }
.aap-field__textarea { resize: vertical; min-height: 120px; line-height: 1.6; }
.aap-field__select { cursor: pointer; }
.aap-contact-pref { display: flex; gap: 16px; flex-wrap: wrap; }
.aap-pref-option { display: flex; align-items: center; gap: 7px; cursor: pointer; font-size: 14px; font-weight: 600; color: var(--c-soil); background: var(--c-sky); border: 1.5px solid var(--c-border); border-radius: 8px; padding: 8px 14px; transition: border-color 0.2s, background 0.2s; }
.aap-pref-option:has(input:checked) { border-color: var(--c-leaf); background: #c8e6c9; }
.aap-pref-option input { display: none; }
.aap-submit-btn { width: 100%; padding: 15px; background: linear-gradient(135deg, var(--c-moss), var(--c-leaf)); color: #fff; font-size: 16px; font-weight: 700; font-family: inherit; border: none; border-radius: 10px; cursor: pointer; box-shadow: 0 4px 16px rgba(45,90,39,0.3); transition: transform 0.15s, box-shadow 0.2s; position: relative; overflow: hidden; }
.aap-submit-btn::before { content: ''; position: absolute; inset: 0; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.12), transparent); transform: translateX(-100%); transition: transform 0.5s; }
.aap-submit-btn:hover::before { transform: translateX(100%); }
.aap-submit-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(45,90,39,0.4); }
.aap-form-success { text-align: center; padding: 40px 20px; }
.aap-form-success__icon { font-size: 56px; display: block; margin-bottom: 16px; }
.aap-form-success h3 { font-family: 'Playfair Display', serif; font-size: 26px; color: var(--c-moss); margin-bottom: 10px; }
.aap-form-success p { color: var(--c-bark); font-size: 15px; }
.aap-form-error { background: #fff5f5; border: 1px solid #fc8181; color: #c53030; border-radius: 8px; padding: 12px 16px; font-size: 13.5px; margin-bottom: 16px; }

/* TRUST */
.aap-trust { background: var(--c-moss); padding: 20px 24px; }
.aap-trust__inner { display: flex; align-items: center; justify-content: center; gap: 24px; flex-wrap: wrap; max-width: 900px; margin: 0 auto; }
.aap-trust__item { display: flex; align-items: center; gap: 8px; color: rgba(255,255,255,0.9); font-size: 13.5px; font-weight: 600; white-space: nowrap; }
.aap-trust__item span:first-child { font-size: 18px; }
.aap-trust__div { width: 1px; height: 28px; background: rgba(255,255,255,0.25); }

/* MOBILE */
@media screen and (max-width: 749px) {
  .aap-hero { flex-direction: column; padding: 36px 16px 40px; text-align: center; gap: 24px; }
  .aap-hero__scene { width: clamp(200px, 80vw, 280px); order: -1; }
  .aap-hero__content { width: 100%; }
  .aap-hero__stats { justify-content: center; }
  .aap-hero__sub { margin-inline: auto; }
  .aap-hero__cta { width: 100%; text-align: center; }
  .aap-categories { padding: 36px 16px 32px; }
  .aap-categories__grid { grid-template-columns: repeat(2, 1fr); gap: 12px; }
  .aap-advisors { padding: 36px 16px; }
  .aap-advisors__grid { grid-template-columns: 1fr; }
  .aap-form-section { padding: 36px 16px; }
  .aap-form-wrap { grid-template-columns: 1fr; gap: 28px; }
  .aap-form-right { padding: 24px 16px; }
  .aap-form-grid { grid-template-columns: 1fr; }
  .aap-field--full { grid-column: 1; }
  .aap-trust__div { display: none; }
  .aap-trust__inner { gap: 14px; }
}
@media screen and (max-width: 480px) {
  .aap-contact-pref { flex-direction: column; gap: 10px; }
  .aap-hero__scene { width: min(240px, 90vw); }
}
@media screen and (min-width: 750px) and (max-width: 1024px) {
  .aap-hero { padding: 50px 28px 60px; gap: 24px; }
  .aap-hero__scene { width: clamp(200px, 28vw, 280px); }
  .aap-hero__title { font-size: clamp(24px, 3.5vw, 40px); }
}
{% endstylesheet %}

<script>
function aapSelectCat(el, cat) {
  document.querySelectorAll('.aap-cat-card').forEach(c => c.classList.remove('aap-cat-card--active'));
  el.classList.add('aap-cat-card--active');
  var sel = document.getElementById('ContactForm-category');
  if (!sel) return;
  var map = {
    mitti: 'ü™® Soil Testing',
    keede: 'üêõ Pest Protection',
    fasal: 'üåæ Crop Management',
    fertilizer: 'üß™ Fertilizer & Nutrition',
    sinchai: 'üíß Irrigation Management',
    bimari: 'üçÇ Disease Control'
  };
  for (var i = 0; i < sel.options.length; i++) {
    if (sel.options[i].text === map[cat]) { sel.selectedIndex = i; break; }
  }
}
</script>

{% schema %}
{
  "name": "Agri Advisor",
  "settings": [
    {
      "type": "header",
      "content": "Hero Section"
    },
    { "type": "text", "id": "badge_text", "label": "Badge Text", "default": "Farmer Advisory Center" },
    { "type": "text", "id": "hero_line1", "label": "Title Line 1", "default": "Find the Solution" },
    { "type": "text", "id": "hero_line2", "label": "Title Line 2 (accent)", "default": "To Every Problem" },
    { "type": "text", "id": "hero_line3", "label": "Title Line 3", "default": "In Your Farm" },
    { "type": "textarea", "id": "hero_subtext", "label": "Subtitle", "default": "Talk directly with our expert agronomists ‚Äî for every problem related to soil, pests, crops, and fertilizers." },
    { "type": "text", "id": "hero_cta", "label": "CTA Button Text", "default": "Get Advice Now" },
    {
      "type": "header",
      "content": "Stats"
    },
    { "type": "text", "id": "stat1_num", "label": "Stat 1 Number", "default": "5000+" },
    { "type": "text", "id": "stat1_label", "label": "Stat 1 Label", "default": "Farmers Benefited" },
    { "type": "text", "id": "stat2_num", "label": "Stat 2 Number", "default": "12+" },
    { "type": "text", "id": "stat2_label", "label": "Stat 2 Label", "default": "Expert Advisors" },
    { "type": "text", "id": "stat3_num", "label": "Stat 3 Number", "default": "Free" },
    { "type": "text", "id": "stat3_label", "label": "Stat 3 Label", "default": "First Consultation" },
    {
      "type": "header",
      "content": "Contact"
    },
    { "type": "text", "id": "main_whatsapp", "label": "Main WhatsApp Number (without +91)", "default": "9999999900" }
  ],
  "blocks": [
    {
      "type": "advisor",
      "name": "Advisor Card",
      "limit": 6,
      "settings": [
        { "type": "text", "id": "name", "label": "Advisor Name", "default": "Dr. Ramesh Sharma" },
        { "type": "text", "id": "avatar_initials", "label": "Avatar Initials (2 chars)", "default": "‡§°‡•â" },
        { "type": "text", "id": "avatar_color", "label": "Avatar Background (CSS gradient)", "default": "linear-gradient(135deg, #2d5a27, #3a7d44)" },
        { "type": "select", "id": "status", "label": "Status", "options": [{ "value": "online", "label": "Online" }, { "value": "busy", "label": "Busy" }], "default": "online" },
        { "type": "text", "id": "role", "label": "Role / Specialization", "default": "ü™® Soil & Fertilizer Expert" },
        { "type": "text", "id": "experience", "label": "Experience", "default": "15 Years of Experience" },
        { "type": "text", "id": "tags", "label": "Skills (comma separated)", "default": "Soil Testing, NPK, Organic" },
        { "type": "text", "id": "rating", "label": "Star Rating (emoji)", "default": "‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê" },
        { "type": "text", "id": "reviews", "label": "Review Count", "default": "248" },
        { "type": "text", "id": "whatsapp", "label": "WhatsApp Number (without +91)", "default": "9999999901" }
      ]
    }
  ],
  "presets": [
    {
      "name": "Agri Advisor Page",
      "blocks": [
        {
          "type": "advisor",
          "settings": {
            "name": "Dr. Ramesh Sharma",
            "avatar_initials": "‡§°‡•â",
            "avatar_color": "linear-gradient(135deg, #2d5a27, #3a7d44)",
            "status": "online",
            "role": "ü™® Soil & Fertilizer Expert",
            "experience": "15 Years of Experience",
            "tags": "Soil Testing, NPK, Organic",
            "rating": "‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê",
            "reviews": "248",
            "whatsapp": "9999999901"
          }
        },
        {
          "type": "advisor",
          "settings": {
            "name": "Suman Patel",
            "avatar_initials": "‡§∏‡•Å",
            "avatar_color": "linear-gradient(135deg, #e67e22, #f39c12)",
            "status": "online",
            "role": "üêõ Pest & Disease Specialist",
            "experience": "10 Years of Experience",
            "tags": "Pest Control, Fungicide, IPM",
            "rating": "‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê",
            "reviews": "189",
            "whatsapp": "9999999902"
          }
        },
        {
          "type": "advisor",
          "settings": {
            "name": "Arvind Yadav",
            "avatar_initials": "‡§Ö",
            "avatar_color": "linear-gradient(135deg, #27ae60, #2ecc71)",
            "status": "busy",
            "role": "üåæ Crop Management Expert",
            "experience": "8 Years of Experience",
            "tags": "Wheat, Rice, Vegetables",
            "rating": "‚≠ê‚≠ê‚≠ê‚≠ê",
            "reviews": "142",
            "whatsapp": "9999999903"
          }
        }
      ]
    }
  ]
}
{% endschema %}
