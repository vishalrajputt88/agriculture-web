{% doc %}
  @prompt
    Only one Image Picker setting (id: banner_image).
    
    The uploaded image should cover full width (100%).
    
    Height should automatically adjust based on image aspect ratio.
    
    No fixed height.
    
    Use object-fit: cover.
    
    Fully responsive for desktop, tablet, and mobile.
    
    No text, no heading, no button.
    
    Clean minimal structure.
    
    Add proper padding control option in schema.
    
    Add optional section background color setting.
    
    Image should scale perfectly without distortion.
    
    No extra blocks.
    
    Only one simple section., also add height width settings for this section , also add width settings 
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-full-width-image-{{ ai_gen_id }} {
    display: block;
    width: 100%;
    padding-top: {{ block.settings.padding_top }}px;
    padding-bottom: {{ block.settings.padding_bottom }}px;
    {% if block.settings.background_color != blank %}
      background-color: {{ block.settings.background_color }};
    {% endif %}
  }

  .ai-full-width-image-wrapper-{{ ai_gen_id }} {
    width: {{ block.settings.desktop_width_percent }}%;
    margin: 0 auto;
    position: relative;
    {% if block.settings.image_height != 'auto' %}
      height: {{ block.settings.custom_height }}px;
    {% endif %}
  }

  .ai-full-width-image-wrapper-{{ ai_gen_id }} img {
    width: 100%;
    display: block;
    {% if block.settings.image_height == 'auto' %}
      height: auto;
      object-fit: cover;
    {% else %}
      height: 100%;
      object-fit: {{ block.settings.object_fit }};
    {% endif %}
  }

  .ai-full-width-image-placeholder-{{ ai_gen_id }} {
    width: 100%;
    background-color: #f4f4f4;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    {% if block.settings.image_height == 'auto' %}
      min-height: 400px;
    {% else %}
      height: {{ block.settings.custom_height }}px;
    {% endif %}
  }

  .ai-full-width-image-placeholder-{{ ai_gen_id }} svg {
    width: 100%;
    height: 100%;
    max-width: 600px;
    max-height: 400px;
  }

  @media screen and (max-width: 749px) {
    .ai-full-width-image-wrapper-{{ ai_gen_id }} {
      width: {{ block.settings.mobile_width_percent }}%;
      {% if block.settings.image_height != 'auto' %}
        height: {{ block.settings.custom_height_mobile }}px;
      {% endif %}
    }

    .ai-full-width-image-placeholder-{{ ai_gen_id }} {
      {% if block.settings.image_height != 'auto' %}
        height: {{ block.settings.custom_height_mobile }}px;
      {% endif %}
    }
  }
{% endstyle %}

<div class="ai-full-width-image-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-full-width-image-wrapper-{{ ai_gen_id }}">
    {% if block.settings.banner_image %}
      <img
        src="{{ block.settings.banner_image | image_url: width: 2000 }}"
        srcset="{{ block.settings.banner_image | image_url: width: 600 }} 600w,
                {{ block.settings.banner_image | image_url: width: 1200 }} 1200w,
                {{ block.settings.banner_image | image_url: width: 1800 }} 1800w,
                {{ block.settings.banner_image | image_url: width: 2000 }} 2000w"
        sizes="100vw"
        alt="{{ block.settings.banner_image.alt | escape }}"
        loading="lazy"
        width="{{ block.settings.banner_image.width }}"
        height="{{ block.settings.banner_image.height }}"
      >
    {% else %}
      <div class="ai-full-width-image-placeholder-{{ ai_gen_id }}">
        {{ 'image' | placeholder_svg_tag }}
      </div>
    {% endif %}
  </div>
</div>

{% schema %}
{
  "name": "Full width image",
  "settings": [
    {
      "type": "image_picker",
      "id": "banner_image",
      "label": "Image"
    },
    {
      "type": "header",
      "content": "Image dimensions"
    },
    {
      "type": "range",
      "id": "desktop_width_percent",
      "label": "Desktop width",
      "min": 50,
      "max": 100,
      "step": 5,
      "unit": "%",
      "default": 100
    },
    {
      "type": "range",
      "id": "mobile_width_percent",
      "label": "Mobile width",
      "min": 50,
      "max": 100,
      "step": 5,
      "unit": "%",
      "default": 100
    },
    {
      "type": "select",
      "id": "image_height",
      "label": "Height",
      "options": [
        {
          "value": "auto",
          "label": "Auto (adapt to image)"
        },
        {
          "value": "custom",
          "label": "Custom"
        }
      ],
      "default": "auto"
    },
    {
      "type": "range",
      "id": "custom_height",
      "label": "Desktop height",
      "min": 200,
      "max": 1000,
      "step": 50,
      "unit": "px",
      "default": 500
    },
    {
      "type": "range",
      "id": "custom_height_mobile",
      "label": "Mobile height",
      "min": 200,
      "max": 800,
      "step": 50,
      "unit": "px",
      "default": 400
    },
    {
      "type": "select",
      "id": "object_fit",
      "label": "Image fit",
      "options": [
        {
          "value": "cover",
          "label": "Cover"
        },
        {
          "value": "contain",
          "label": "Contain"
        }
      ],
      "default": "cover",
      "info": "Only applies when using custom height"
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Top padding",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Bottom padding",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 0
    },
    {
      "type": "header",
      "content": "Background"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color"
    }
  ],
  "presets": [
    {
      "name": "Full width image"
    }
  ],
  "tag": null
}
{% endschema %}
